const SUPABASE_URL="https://irywooakqfwnkbwgtlxr.supabase.co",SUPABASE_KEY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlyeXdvb2FrcWZ3bmtid2d0bHhyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MjI2MzYxMzUsImV4cCI6MjAzODIxMjEzNX0.y4j9o6SMcvr0B-OUxXw48uibEWeSzuf6fjfmExv0iOw",TABLE_NAME="orders",scrollItems=document.querySelectorAll(".animate");function getCoords(e){let t=e.getBoundingClientRect();return{top:t.top+window.pageYOffset,right:t.right+window.pageXOffset,bottom:t.bottom+window.pageYOffset,left:t.left+window.pageXOffset}}const scrollAnimation=()=>{let e=window.innerHeight+window.scrollY;scrollItems.forEach((t=>{let n=getCoords(t).top+50;(e-t.offsetHeight>=n||t.querySelector("img")&&e-50>=n)&&e-window.innerHeight<n&&t.classList.add("animation-active")}))};scrollAnimation(),window.addEventListener("scroll",(()=>{scrollAnimation()}));const modalsBtn=[].slice.call(document.querySelectorAll('button[data-modal="modal"]')),modalSocialElements=document.querySelectorAll(".modal__social-element"),modalWindow=document.querySelector(".modal"),modalInner=document.querySelector(".modal__inner"),form=document.querySelector(".modal__form"),modalBg=document.querySelector(".modal__bg"),modalBtnClose=document.querySelector(".btn__modal--close"),modalTitle=document.querySelector(".modal__title"),modalCheckbox=document.querySelector(".modal__checkbox"),modalText=document.querySelector(".modal__text--1 "),input1=document.querySelector(".modal__input--1"),input2=document.querySelector(".modal__input--2");function modal(){function e(){input1.value="",input2.value="",modalWindow.classList.remove("active"),input1.classList.remove("invalid"),input2.classList.remove("invalid")}form.addEventListener("submit",(async function(e){e.preventDefault();let t=3;const n=input1.value,o=input2.value;""===o&&(input2.classList.add("invalid"),t--);""===n&&(input1.classList.add("invalid"),t--);modalCheckbox.checked||(modalCheckbox.closest("label").classList.add("invalid"),t--);t>=3&&(await insertOrder(n,o),modalSocialElements.forEach((e=>e.classList.add("hidden"))),form.classList.add("close"),modalInner.classList.add("thanked"),modalBtnClose.classList.add("thanked"),modalTitle.textContent="–î—è–∫—É—é!",modalText.innerHTML="–ü—ñ–∫–ª—É–π—Ç–µ—Å—è –ø—Ä–æ —Å–≤–æ—î –º–µ–Ω—Ç–∞–ª—å–Ω–µ –∑–¥–æ—Ä–æ–≤'—è <span>ü´∂</span>")})),modalsBtn.forEach((e=>{e.addEventListener("click",(function(){modalSocialElements.forEach((e=>e.classList.remove("hidden"))),modalWindow.classList.add("active"),form.classList.remove("close"),modalBtnClose.classList.remove("thanked"),modalInner.classList.remove("thanked"),modalTitle.textContent="–ó–∞–ø–∏—Å",modalText.textContent="–ó–∞–ø–æ–≤–Ω—ñ—Ç—å —Ñ–æ—Ä–º—É, —ñ —è –∑–≤'—è–∂—É—Å—è –∑ –≤–∞–º —Ç–∞–∫ —à–≤–∏–¥–∫–æ, —è–∫ –∑–º–æ–∂—É"}))})),modalBg.addEventListener("click",(function(){e()})),modalBtnClose.addEventListener("click",(function(){e()})),input1.addEventListener("input",(()=>input1.classList.remove("invalid"))),input2.addEventListener("input",(()=>input2.classList.remove("invalid"))),modalCheckbox.addEventListener("change",(()=>{modalCheckbox.closest("label").classList.remove("invalid")}))}modal();let isSubmitting=!1;const insertOrder=async(e,t)=>{if(isSubmitting)return;isSubmitting=!0;const n=await fetch(`${SUPABASE_URL}/rest/v1/orders`,{method:"POST",headers:{"Content-Type":"application/json",apikey:SUPABASE_KEY,Authorization:`Bearer ${SUPABASE_KEY}`},body:JSON.stringify([{name:e,tel:t}])});isSubmitting=!1,n.ok},menuBtn=document.querySelector(".header__mobile-menu"),menuInner=document.querySelector(".header__inner"),menuRight=document.querySelector(".header__right"),socialList=document.querySelector(".header__social-list"),menuContainer=document.querySelector(".header__container");function menuFunction(){menuInner.classList.toggle("active"),menuBtn.classList.toggle("active")}function menuResize(){document.documentElement.clientWidth<=680?menuContainer.appendChild(socialList):menuRight.appendChild(socialList)}menuBtn.addEventListener("click",menuFunction),menuResize(),window.addEventListener("resize",(()=>{menuResize()}));const anchors=[].slice.call(document.querySelectorAll('a[href*="#"]')),animationTime=500,framesCount=120;anchors.forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault(),menuInner.classList.remove("active"),menuBtn.classList.remove("active");let n=document.querySelector(e.getAttribute("href")).getBoundingClientRect().top+window.pageYOffset,o=n-window.pageYOffset,i=setInterval((function(){let e=Math.abs(o)/120;o>0?e>window.pageYOffset-n&&window.innerHeight+window.pageYOffset<document.body.offsetHeight?window.scrollBy(0,e):(window.scrollTo(0,n),clearInterval(i)):o<0?e<window.pageYOffset-n?window.scrollBy(0,-e):(window.scrollTo(0,n),clearInterval(i)):o&&clearInterval(i)}),500/120)}))}));